<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Книги</title>
    <script src="webjars/jquery/3.0.0/jquery.js"></script>
    <script>
        //$(function(){
            //$("#includeHeader").load("static/header.html");
        //});

        var n = 5;
        $(document).ready(function(){

            $("#t_body").load("/books_list?from=0&to=5 #tr_table");

            $("#showMore").click(function(){
                $.get("/books_list?from="+n+"&count=5", function(data) {
                    if($.trim($(data).find("#isn").html())=='') {
                        alert("Все данные загружены");
                    }
                    else {
                        $("#t_body").append($(data).find("#tr_table"));
                        n*=2;
                    }

                });
            });
        });
    </script>
</head>
<body>
<button type="button" onclick=> Добавить книгу</button>
<h1>Список книг библиотеки</h1>
<table>
    <thead>
    <tr>
        <th>ISN</th>
        <th>Автор</th>
        <th>Название</th>
        <th>Кем взята</th>
        <th>Удалить</th>
    </tr>
    </thead>
    <tbody id="t_body"></tbody>
</table>
<button id="showMore" type="button">Показать ещё</button>
</body>
</html>
